<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArRobotPacketSender Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArRobotPacketSender Class Reference</h1><code>#include &lt;ArRobotPacketSender.h&gt;</code>
<p>
<a href="classArRobotPacketSender-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Given a device connection this sends commands through it to the robot. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a0">ArRobotPacketSender</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *deviceConnection, unsigned char sync1=0xfa, unsigned char sync2=0xfb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor with assignment of a device connection.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a1">ArRobotPacketSender</a> (unsigned char sync1=0xfa, unsigned char sync2=0xfb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor without an already assigned device connection.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a2">com</a> (unsigned char command)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the robot with no arguments.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a3">com2Bytes</a> (unsigned char command, char high, char low)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the robot with two bytes for argument.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="ArRobotPacketSender::comDataN"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a4">comDataN</a> (unsigned char command, const char *data, int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command containing exactly the data in the given buffer as argument. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a5">comInt</a> (unsigned char command, short int argument)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the robot with an int for argument.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a6">comStr</a> (unsigned char command, const char *argument)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the robot with a length-prefixed string for argument.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a7">comStrN</a> (unsigned char command, const char *str, int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the robot with a length-prefixed string for argument.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a8" doxytag="ArRobotPacketSender::getDeviceConnection"></a>
<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a8">getDeviceConnection</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the device this instance sends commands to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9" doxytag="ArRobotPacketSender::setDeviceConnection"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a9">setDeviceConnection</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *deviceConnection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device this instance sends commands to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a10" doxytag="ArRobotPacketSender::~ArRobotPacketSender"></a>
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRobotPacketSender.html#a10">~ArRobotPacketSender</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>INTARG</b> =  0x3B, 
<b>NINTARG</b> =  0x1B, 
<b>STRARG</b> =  0x2B
 }</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0" doxytag="ArRobotPacketSender::connValid"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>connValid</b> (void)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArRobotPacketSender::myDeviceConn"></a>
<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myDeviceConn</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArRobotPacketSender::myPacket"></a>
<a class="el" href="classArRobotPacket.html">ArRobotPacket</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPacket</b></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a1" doxytag="ArRobotPacketSender::ArRobotPacketSender"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArRobotPacketSender::ArRobotPacketSender           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>sync1</em> = <code>0xfa</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>sync2</em> = <code>0xfb</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor without an already assigned device connection. 
<p>
Use <a class="el" href="classArRobotPacketSender.html#a9">setDeviceConnection()</a> to set the device connection before use. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sync1</em>&nbsp;</td><td>first byte of the header this sender will send, this should be left as the default in nearly all cases, or it won't work with any production robot. ie don't mess with it </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync2</em>&nbsp;</td><td>second byte of the header this sender will send, this should be left as the default in nearly all cases, or it won't work with any production robot. ie don't mess with it </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ArRobotPacketSender::ArRobotPacketSender"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArRobotPacketSender::ArRobotPacketSender           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>deviceConnection</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>sync1</em> = <code>0xfa</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>sync2</em> = <code>0xfb</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor with assignment of a device connection. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceConnection</em>&nbsp;</td><td>device connection to send packets to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync1</em>&nbsp;</td><td>first byte of the header this sender will send, this should be left as the default in nearly all cases, or it won't work with any production robot. ie don't mess with it </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync2</em>&nbsp;</td><td>second byte of the header this sender will send, this should be left as the default in nearly all cases, or it won't work with any production robot. ie don't mess with it </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="ArRobotPacketSender::com"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRobotPacketSender::com           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>command</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a command to the robot with no arguments. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>the command number to send </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>whether the command could be sent or not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ArRobotPacketSender::com2Bytes"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRobotPacketSender::com2Bytes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char&nbsp;</td>
          <td class="mdname" nowrap> <em>high</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char&nbsp;</td>
          <td class="mdname" nowrap> <em>low</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a command to the robot with two bytes for argument. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>the command number to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>high</em>&nbsp;</td><td>the high byte to send with the command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>low</em>&nbsp;</td><td>the low byte to send with the command </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>whether the command could be sent or not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ArRobotPacketSender::comInt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRobotPacketSender::comInt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>short int&nbsp;</td>
          <td class="mdname" nowrap> <em>argument</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a command to the robot with an int for argument. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>the command number to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argument</em>&nbsp;</td><td>the integer argument to send with the command </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>whether the command could be sent or not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ArRobotPacketSender::comStr"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRobotPacketSender::comStr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argument</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a command to the robot with a length-prefixed string for argument. 
<p>
Sends a length-prefixed string command. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>the command number to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argument</em>&nbsp;</td><td>NULL-terminated string to send with the command </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>whether the command could be sent or not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ArRobotPacketSender::comStrN"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRobotPacketSender::comStrN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a command to the robot with a length-prefixed string for argument. 
<p>
Sends a packet containing the given command, and a length-prefixed string containing the specified number of bytes copied from the given source string. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>the command number to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>the character array containing data to send with the command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of bytes from the array to send; prefix the string with a byte containing this value as well. this size must be less than the maximum packet size of 200 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>whether the command could be sent or not </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArRobotPacketSender.h<li>ArRobotPacketSender.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:44 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
