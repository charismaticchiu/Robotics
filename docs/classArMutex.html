<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArMutex Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArMutex Class Reference</h1><code>#include &lt;ArMutex.h&gt;</code>
<p>
<a href="classArMutex-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Mutex wrapper class. 
<p>
This class wraps the operating system's mutex functions. It allows mutualy exclusive access to a critical section. This is extremely useful for multiple threads which want to use the same variable. On Linux, ArMutex simply uses the POSIX pthread interface in an object oriented manner. It also applies the same concept to Windows using Windows' own abilities to restrict access to critical sections.<p>
<dl compact><dt><b>Note:</b></dt><dd>ArMutex is by default a recursive mutex. This means that a thread is allowed to acquire an additional lock (whether via <a class="el" href="classArMutex.html#a4">lock()</a> or <a class="el" href="classArMutex.html#a8">tryLock()</a>) on a locked mutex if that same thread already has the lock. This allows a thread to lock a mutex, but not become deadlocked if any functions called while it is locked also attempt to lock the mutex, while still preventing other threads from interrupting it. If you want a non-recursive mutex, so that multiple attempts by the same thread to lock a mutex to block, supply an argument of 'false' to the constructor. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="gpsRobotTaskExample_8cpp-example.html#_a335">gpsRobotTaskExample.cpp</a>, and <a class="el" href="threadExample_8cpp-example.html#_a650">threadExample.cpp</a>.</dl>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="w0" doxytag="ArMutex::MutexType"></a>
typedef pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>MutexType</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#w1">Status</a> { <a class="el" href="classArMutex.html#w1w4">STATUS_FAILED_INIT</a> = 1, 
<a class="el" href="classArMutex.html#w1w3">STATUS_FAILED</a>, 
<a class="el" href="classArMutex.html#w1w2">STATUS_ALREADY_LOCKED</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="ArMutex::ArMutex"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a0">ArMutex</a> (const <a class="el" href="classArMutex.html">ArMutex</a> &amp;mutex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a1">ArMutex</a> (bool recursive=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="ArMutex::getError"></a>
virtual const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a2">getError</a> (int messageNumber) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a human readable error message from an error code. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3" doxytag="ArMutex::getMutex"></a>
virtual MutexType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a3">getMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference to the underlying OS-specific mutex variable. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a4">lock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a5">setLog</a> (bool log)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6" doxytag="ArMutex::setLogName"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a6">setLogName</a> (const char *logName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a name we'll use to log with. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a7">setLogNameVar</a> (const char *logName,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a name we'll use to log with formatting.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a8">tryLock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9" doxytag="ArMutex::unlock"></a>
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a9">unlock</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the mutex, allowing another thread to obtain the lock. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a10" doxytag="ArMutex::~ArMutex"></a>
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#a10">~ArMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#e0">getLockWarningTime</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#e1">getUnlockWarningTime</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#e2">setLockWarningTime</a> (double lockWarningSeconds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#e3">setUnlockWarningTime</a> (double unlockWarningSeconds)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0" doxytag="ArMutex::checkLockTime"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>checkLockTime</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1" doxytag="ArMutex::checkUnlockTime"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>checkUnlockTime</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b2" doxytag="ArMutex::initLockTiming"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>initLockTiming</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b3" doxytag="ArMutex::startLockTimer"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>startLockTimer</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b4" doxytag="ArMutex::startUnlockTimer"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>startUnlockTimer</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b5" doxytag="ArMutex::uninitLockTiming"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>uninitLockTiming</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArMutex::myFailedInit"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFailedInit</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArMutex::myFirstLock"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFirstLock</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="ArMutex::myLockStarted"></a>
<a class="el" href="classArTime.html">ArTime</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLockStarted</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="ArMutex::myLockTime"></a>
<a class="el" href="classArTime.html">ArTime</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLockTime</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="ArMutex::myLog"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLog</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="ArMutex::myLogName"></a>
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLogName</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6" doxytag="ArMutex::myMutex"></a>
MutexType&nbsp;</td><td class="memItemRight" valign="bottom"><b>myMutex</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7" doxytag="ArMutex::myNonRecursive"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myNonRecursive</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p8" doxytag="ArMutex::myStrMap"></a>
ArStrMap&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStrMap</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p9" doxytag="ArMutex::myWasAlreadyLocked"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myWasAlreadyLocked</b></td></tr>

<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t0" doxytag="ArMutex::ourLockWarningMS"></a>
static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourLockWarningMS</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t1" doxytag="ArMutex::ourNonRecursiveDeadlockFunctor"></a>
static <a class="el" href="classArFunctor.html">ArFunctor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourNonRecursiveDeadlockFunctor</b> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t2" doxytag="ArMutex::ourUnlockWarningMS"></a>
static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourUnlockWarningMS</b> = 0</td></tr>

</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="w1" doxytag="ArMutex::Status"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classArMutex.html#w1">ArMutex::Status</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="w1w4" doxytag="STATUS_FAILED_INIT"></a>STATUS_FAILED_INIT</em>&nbsp;</td><td>
Failed to initialize. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w1w3" doxytag="STATUS_FAILED"></a>STATUS_FAILED</em>&nbsp;</td><td>
General failure. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w1w2" doxytag="STATUS_ALREADY_LOCKED"></a>STATUS_ALREADY_LOCKED</em>&nbsp;</td><td>
Mutex already locked. </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a1" doxytag="ArMutex::ArMutex"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArMutex::ArMutex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>recursive</em> = <code>true</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
KMC TESTING myStrMap[STATUS_FAILED_INIT]="Failed to initialize"; myStrMap[STATUS_FAILED]="General failure"; myStrMap[STATUS_ALREADY_LOCKED]="Mutex already locked";     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="ArMutex::getLockWarningTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static double ArMutex::getLockWarningTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the lock warning time (sec) <dl compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="ArMutex::getUnlockWarningTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static double ArMutex::getUnlockWarningTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the lock warning time (sec) <dl compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ArMutex::lock"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ArMutex::lock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lock the mutex<p>
If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then block until it is unlocked; if <em>this</em> thread has locked this mutex, then continue immediately and do not block.<p>
If this is <em>not</em> a recursive mutex, then block if any thread (including this thread) has locked this mutex.<p>
Call setLog(true) to enable extra logging.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 if the mutex was successfully locked (after blocking if it was already locked by another thread, or by any thread if this is <em>not</em> a recursive mutex). <p>
<a class="el" href="classArMutex.html#w1w2">ArMutex::STATUS_ALREADY_LOCKED</a> immediately if this is a recursive mutex (default) and the current thread has already locked this mutex. <p>
<a class="el" href="classArMutex.html#w1w3">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. <p>
<a class="el" href="classArMutex.html#w1w4">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e2" doxytag="ArMutex::setLockWarningTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void ArMutex::setLockWarningTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>lockWarningSeconds</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the lock warning time (sec). If it takes more than <em>lockWarningSeconds</em> to perform the mutex lock in <a class="el" href="classArMutex.html#a4">lock()</a>, log a warning. <dl compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ArMutex::setLog"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ArMutex::setLog           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>log</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets a flag that will log out when we lock and unlock. Use <a class="el" href="classArMutex.html#a6">setLogName()</a> to set a descriptive name for this mutex, and <a class="el" href="classArThread.html#a22">ArThread::setThreadName()</a> to set a descriptive name for a thread.     </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ArMutex::setLogNameVar"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ArMutex::setLogNameVar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>logName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets a name we'll use to log with formatting. 
<p>
<b>Java and Python Wrappers:</b> Not available in Java or Python wrapper libraries. use <a class="el" href="classArMutex.html#a6">setLogName()</a>     </td>
  </tr>
</table>
<a class="anchor" name="e3" doxytag="ArMutex::setUnlockWarningTime"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void ArMutex::setUnlockWarningTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>unlockWarningSeconds</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the unlock warning time (sec). If it takes more than <em>unlockWarningSeconds</em> between the mutex being locked with <a class="el" href="classArMutex.html#a4">lock()</a> then unlocked with <a class="el" href="classArMutex.html#a9">unlock()</a>, log a warning. <dl compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ArMutex::tryLock"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ArMutex::tryLock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Try to lock the mutex, but do not block<p>
If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then return <a class="el" href="classArMutex.html#w1w2">ArMutex::STATUS_ALREADY_LOCKED</a>; if <em>this</em> thread has locked this mutex, then return 0.<p>
If this is <em>not</em> a recursive mutex, then return 0 if any thread (including this thread) has locked this mutex.<p>
Returns <a class="el" href="classArMutex.html#w1w3">ArMutex::STATUS_FAILED</a> or <a class="el" href="classArMutex.html#w1w4">ArMutex::STATUS_FAILED_INIT</a> on an error (such as threading not initialized or supported).<p>
Call setLog(true) to enable extra logging.<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 If <a class="el" href="classArMutex.html#a8">tryLock()</a> acquires the lock, or mutex is a recursive mutex (default) and is already locked by this thread <p>
<a class="el" href="classArMutex.html#w1w2">ArMutex::STATUS_ALREADY_LOCKED</a> if this mutex is currently locked by another thread, or if mutex is <em>not</em> recursive, by any thread including the current thread. <p>
<a class="el" href="classArMutex.html#w1w3">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. <p>
<a class="el" href="classArMutex.html#w1w4">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArMutex.h<li>ArMutex.cpp<li>ArMutex_LIN.cpp<li>ArMutex_WIN.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:42 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
