<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArLaserConnector Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArLaserConnector Class Reference</h1><code>#include &lt;ArLaserConnector.h&gt;</code>
<p>
<a href="classArLaserConnector-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Connect to robot and laser based on run-time availablitily and command-line arguments. 
<p>
ArLaserConnector makes a laser connection either through a TCP port (for the simulator or for robots with Ethernet-serial bridge devices instead of onboard computers), or through a direct serial port connection. Normally, it first attempts a TCP connection on <em>localhost</em> port 8101, to use a simulator if running. If the simulator is not running, then it normally then connects using the serial port (the first serial port, COM1, by default). Various other connection parameters are configurable through command-line arguments.<p>
When you create your ArLaserConnector, pass it command line parameters via either the argc and argv variables from main(), or pass it an <a class="el" href="classArArgumentBuilder.html">ArArgumentBuilder</a> or <a class="el" href="classArArgumentParser.html">ArArgumentParser</a> object. (<a class="el" href="classArArgumentBuilder.html">ArArgumentBuilder</a> is able to obtain command line parameters from a Windows program that uses WinMain() instead of main()). ArLaserConnector registers a callback with the global <a class="el" href="classAria.html">Aria</a> class. Use <a class="el" href="classAria.html#e28">Aria::parseArgs()</a> to parse all command line parameters to the program, and <a class="el" href="classAria.html#e27">Aria::logOptions()</a> to print out information about all registered command-line parameters.<p>
The following command-line arguments are checked: <div class="fragment"><pre class="fragment">Laser types and options may also be set in the robot parameter file.  See the
ARIA reference documentation for details.

If a program supports multiple lasers, then options for additional lasers
after the first are given by appending the laser number (e.g. -laserType2)
To enable use of a laser, choose its type with the -laserType&lt;N&gt; options
(e.g.: -laserType lms2xx -laserType2 urg)

The default laser type for the primary laser (laser 1) is "lms2xx".

Instruct a program to connect to a laser using the -connectLaser&lt;N&gt; option;
if a program requires use of a laser it usually always attempts to connect to
the primary laser, however.

The index number is optional in options for the primary laser (laser 1).



For laser type "lms2xx":

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 32000
-laserDegrees &lt;100|180&gt;
-ld &lt;100|180&gt;
-laserIncrement &lt;half|one&gt;
-li &lt;half|one&gt;
-laserUnits &lt;1mm|1cm|10cm&gt;
-lu &lt;1mm|1cm|10cm&gt;
-laserReflectorBits &lt;1ref|2ref|3ref&gt;
-lrb &lt;1ref|2ref|3ref&gt;
-laserPowerControlled &lt;true|false&gt;
-lpc &lt;true|false&gt;
-laserStartingBaud &lt;9600|19200|38400&gt;
-lsb &lt;9600|19200|38400&gt;
-laserAutoBaud &lt;9600|19200|38400&gt;
-lab &lt;9600|19200|38400&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'

For laser type "urg":

-laserPort &lt;laserPort&gt;
-lp &lt;laserPort&gt;
-laserPortType &lt;serial|tcp&gt;
-lpt &lt;serial|tcp&gt;
-remoteLaserTcpPort &lt;remoteLaserTcpPort&gt;
-rltp &lt;remoteLaserTcpPort&gt;
-laserFlipped &lt;true|false&gt;
-lf &lt;true|false&gt;
-laserMaxRange &lt;maxRange&gt;
-lmr &lt;maxRange&gt;
	&lt;maxRange&gt; is an unsigned int less than 4095
-laserDegreesStart &lt;startAngle&gt;
-lds &lt;startAngle&gt;
	&lt;startAngle&gt; is a double between -135 and 135
-laserDegreesEnd &lt;endAngle&gt;
-lde &lt;endAngle&gt;
	&lt;endAngle&gt; is a double between -135 and 135
-laserIncrementByDegrees &lt;incrementByDegrees&gt;
-libd &lt;incrementByDegrees&gt;
	&lt;incrementByDegrees&gt; is a double between 0 and 135
-laserStartingBaud &lt;019200|057600|115200|250000|500000|750000&gt;
-lsb &lt;019200|057600|115200|250000|500000|750000&gt;
-laserAutoBaud &lt;019200|057600|115200|250000|500000|750000&gt;
-lab &lt;019200|057600|115200|250000|500000|750000&gt;
-laserAdditionalIgnoreReadings &lt;readings&gt;
-lair &lt;readings&gt;
	&lt;readings&gt; is a string that contains readings to ignore separated by commas, where ranges are acceptable with a -, example '75,76,90-100,-75,-76,-90--100'
</pre></div><p>
You can prepare an <a class="el" href="classArRobot.html">ArRobot</a> object for connection (with various connection options configured via the command line parameters) and initiate the connection attempt by that object by calling connectRobot().<p>
After it's connected, you must then begin the robot processing cycle by calling <a class="el" href="classArRobot.html#a255">ArRobot::runAsync()</a> or <a class="el" href="classArRobot.html#a254">ArRobot::run()</a>.<p>
You can then configure ArLaserConnector for the SICK laser based on the robot connection, and command line parameters with <a class="el" href="classArLaserConnector.html#a8">setupLaser()</a>. After calling <a class="el" href="classArLaserConnector.html#a8">setupLaser()</a>, you must then run the laser processing thread (with <a class="el" href="classArRangeDeviceThreaded.html#a5">ArLaser::runAsync()</a> or ArLaser()::run()) and then use <a class="el" href="classArLaserConnector.html#a3">ArLaserConnector::connectLaser()</a> to connect with the laser if specifically requested on the command line using the -connectLaser option (or simply call <a class="el" href="classArLaser.html#a10">ArLaser::blockingConnect()</a> (or similar) to attempt a laser connection regardless of whether or not the -connectLaser option was given; use this latter technique if your program always prefers or requires use of the laser). <dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="demo_8cpp-example.html#_a183">demo.cpp</a>, and <a class="el" href="wander_8cpp-example.html#_a705">wander.cpp</a>.</dl>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a0">addLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a laser so parsing will get it.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a1">addPlaceholderLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *placeholderLaser, int laserNumber=1, bool takeOwnershipOfPlaceholder=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a laser for parsing but where connectLaser will be called later.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a2">ArLaserConnector</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser, <a class="el" href="classArRobot.html">ArRobot</a> *robot, <a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *robotConnector, bool autoParseArgs=true, <a class="el" href="classArLog.html#w2">ArLog::LogLevel</a> infoLogLevel=ArLog::Verbose)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor that takes argument parser.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a3">connectLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1, bool forceConnection=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects the laser synchronously (will take up to a minute).  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a4">connectLasers</a> (bool continueOnFailedConnect=false, bool addConnectedLasersToRobot=true, bool addAllLasersToRobot=false, bool turnOnLasers=true, bool powerCycleLaserOnFailedConnect=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects all the lasers the robot has that should be auto connected.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="ArLaserConnector::logOptions"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a5">logOptions</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log the options the simple connector has. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a6">parseArgs</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to parse the arguments given in an arbitrary parser.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a7">parseArgs</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to parse the arguments given in the constructor.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a8">setupLaser</a> (<a class="el" href="classArLaser.html">ArLaser</a> *laser, int laserNumber=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets up a laser to be connected.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9" doxytag="ArLaserConnector::~ArLaserConnector"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#a9">~ArLaserConnector</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0" doxytag="ArLaserConnector::internalConfigureLaser"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>internalConfigureLaser</b> (<a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1" doxytag="ArLaserConnector::logLaserOptions"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#b1">logLaserOptions</a> (<a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserdata, bool header=true, bool metaOpts=true) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Logs the laser command line option help text. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b2" doxytag="ArLaserConnector::parseLaserArgs"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector.html#b2">parseLaserArgs</a> (<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *parser, <a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> *laserData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses the laser arguments. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArLaserConnector::myAutoParseArgs"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAutoParseArgs</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArLaserConnector::myInfoLogLevel"></a>
<a class="el" href="classArLog.html#w2">ArLog::LogLevel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myInfoLogLevel</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="ArLaserConnector::myLasers"></a>
std::map&lt; int, <a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLasers</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="ArLaserConnector::myLaserTypes"></a>
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLaserTypes</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="ArLaserConnector::myLogOptionsCB"></a>
<a class="el" href="classArConstFunctorC.html">ArConstFunctorC</a>&lt; <a class="el" href="classArLaserConnector.html">ArLaserConnector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLogOptionsCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="ArLaserConnector::myOwnParser"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myOwnParser</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6" doxytag="ArLaserConnector::myParseArgsCB"></a>
<a class="el" href="classArRetFunctorC.html">ArRetFunctorC</a>&lt; bool, <a class="el" href="classArLaserConnector.html">ArLaserConnector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParseArgsCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7" doxytag="ArLaserConnector::myParsedArgs"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParsedArgs</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p8" doxytag="ArLaserConnector::myParser"></a>
<a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myParser</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p9" doxytag="ArLaserConnector::myRobot"></a>
<a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobot</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p10" doxytag="ArLaserConnector::myRobotConnector"></a>
<a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobotConnector</b></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLaserConnector_1_1LaserData.html">LaserData</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class that holds information about the laser data.  <a href="classArLaserConnector_1_1LaserData.html#_details">More...</a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a2" doxytag="ArLaserConnector::ArLaserConnector"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArLaserConnector::ArLaserConnector           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>parser</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classArRobotConnector.html">ArRobotConnector</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>robotConnector</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>autoParseArgs</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classArLog.html#w2">ArLog::LogLevel</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>infoLogLevel</em> = <code>ArLog::Verbose</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor that takes argument parser. 
<p>
<dl compact><dt><b>Warning:</b></dt><dd>do not delete <em>parser</em> during the lifetime of this ArLaserConnector, which may need to access its contents later.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parser</em>&nbsp;</td><td>the parser with the arguments to parse</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>robot</em>&nbsp;</td><td>the robot these lasers are attached to (or NULL for none)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>robotConnector</em>&nbsp;</td><td>the connector used for connecting to the robot (so we can see if it was a sim or not)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>autoParseArgs</em>&nbsp;</td><td>if this class should autoparse the args if they aren't parsed explicitly</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>infoLogLevel</em>&nbsp;</td><td>The log level for information about creating lasers and such, this is also passed to all the lasers created as their infoLogLevel too </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a0" doxytag="ArLaserConnector::addLaser"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::addLaser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>laserNumber</em> = <code>1</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a laser so parsing will get it. 
<p>
Normally adding lasers is done from the .p file, you can use this if you want to add them explicitly in a program (which will override the .p file, and may cause some problems).<p>
This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4">ArLaserConnector::connectLasers</a>.     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ArLaserConnector::addPlaceholderLaser"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::addPlaceholderLaser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>placeholderLaser</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>laserNumber</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>takeOwnershipOfPlaceholder</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a laser for parsing but where connectLaser will be called later. 
<p>
Normally adding lasers is done from the .p file, you can use this if you want to add them explicitly in a program (which will override the .p file, and may cause some problems).<p>
This is only for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4">ArLaserConnector::connectLasers</a>.     </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ArLaserConnector::connectLaser"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::connectLaser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>laserNumber</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>forceConnection</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connects the laser synchronously (will take up to a minute). 
<p>
This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4">ArLaserConnector::connectLasers</a>.     </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ArLaserConnector::connectLasers"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::connectLasers           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname" nowrap> <em>continueOnFailedConnect</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>addConnectedLasersToRobot</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>addAllLasersToRobot</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>turnOnLasers</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>powerCycleLaserOnFailedConnect</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connects all the lasers the robot has that should be auto connected. 
<p>
TODO see if this firmware can actually do the power cycling     </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ArLaserConnector::parseArgs"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::parseArgs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArArgumentParser.html">ArArgumentParser</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>parser</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function to parse the arguments given in an arbitrary parser. 
<p>
Parse command line arguments held by the given <a class="el" href="classArArgumentParser.html">ArArgumentParser</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the arguments were parsed successfully false if not</dd></dl>
The following arguments are used for the robot connection:<p>
<dl>
<dt><code>-robotPort</code> <em>port</em> </dt>
<dd></dd>
<dt><code>-rp</code> <em>port</em> </dt>
<dd>Use the given serial port device name for a serial port connection (e.g. <code>COM1</code>, or <code>/dev/ttyS0</code> if on Linux.) The default is the first serial port, or COM1, which is the typical Pioneer setup. <p>
The following arguments are accepted for laser connections. A program may request support for more than one laser using setMaxNumLasers(); if multi-laser support is enabled in this way, then these arguments must have the laser index number appended. For example, "-laserPort" for laser 1 would instead by "-laserPort1", and for laser 2 it would be "-laserPort2".<p>
<dl>
<dt>-laserPort <em>port</em> </dt>
<dd></dd>
<dt>-lp <em>port</em> </dt>
<dd>Use the given port device name when connecting to a laser. For example, <code>COM2</code> or on Linux, <code>/dev/ttyS1</code>. The default laser port is COM2, which is the typical Pioneer laser port setup. <p>
</dd>
<dt>-laserFlipped <em>true|false</em> </dt>
<dd></dd>
<dt>-lf <em>true|false</em> </dt>
<dd>If <code>true</code>, then the laser is mounted upside-down on the robot and the ordering of readings should be reversed.<p>
</dd>
<dt>-connectLaser </dt>
<dd></dd>
<dt>-cl </dt>
<dd>Explicitly request that the client program connect to a laser, if it does not always do so<p>
</dd>
<dt>-laserPowerControlled <em>true|false</em> </dt>
<dd></dd>
<dt>-lpc <em>true|false</em> </dt>
<dd>If <code>true</code>, then the laser is powered on when the serial port is initially opened, so enable certain features when connecting such as a waiting period as the laser initializes.<p>
</dd>
<dt>-laserDegrees <em>degrees</em> </dt>
<dd></dd>
<dt>-ld <em>degrees</em> </dt>
<dd>Indicate the size of the laser field of view, either <code>180</code> (default) or <code>100</code>.<p>
</dd>
<dt>-laserIncrement <em>increment</em> </dt>
<dd></dd>
<dt>-li <em>increment</em> </dt>
<dd>Configures the laser's angular resolution. If <code>one</code>, then configure the laser to take a reading every degree. If <code>half</code>, then configure it for a reading every 1/2 degrees.<p>
</dd>
<dt>-laserUnits <em>units</em> </dt>
<dd></dd>
<dt>-lu <em>units</em> </dt>
<dd>Configures the laser's range resolution. May be 1mm for one milimiter, 1cm for ten milimeters, or 10cm for one hundred milimeters.<p>
</dd>
<dt>-laserReflectorBits <em>bits</em> </dt>
<dd></dd>
<dt>-lrb <em>bits</em> </dt>
<dd>Enables special reflectance detection, and configures the granularity of reflector detection information. Using more bits allows the laser to provide values for several different reflectance levels, but also may force a reduction in range. (Note, the SICK LMS-200 only detects high reflectance on special reflector material manufactured by SICK.)  </dd>
</dl>
</dd>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ArLaserConnector::parseArgs"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::parseArgs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function to parse the arguments given in the constructor. 
<p>
Parse command line arguments using the <a class="el" href="classArArgumentParser.html">ArArgumentParser</a> given in the ArLaserConnector constructor.<p>
See <a class="el" href="classArLaserConnector.html#a6">parseArgs(ArArgumentParser*)</a> for details about argument parsing.<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the arguments were parsed successfully false if not </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ArLaserConnector::setupLaser"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLaserConnector::setupLaser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArLaser.html">ArLaser</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>laser</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>laserNumber</em> = <code>1</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets up a laser to be connected. 
<p>
This is mainly for backwards compatibility (ie used for <a class="el" href="classArSimpleConnector.html">ArSimpleConnector</a>). If you're using this class you should probably use the new functionality which is just <a class="el" href="classArLaserConnector.html#a4">ArLaserConnector::connectLasers</a>.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArLaserConnector.h<li>ArLaserConnector.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:42 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
