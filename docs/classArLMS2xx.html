<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArLMS2xx Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArLMS2xx Class Reference</h1><code>#include &lt;ArLMS2xx.h&gt;</code>
<p>
<p>Inheritance diagram for ArLMS2xx:
<p><center><img src="classArLMS2xx.png" usemap="#ArLMS2xx_map" border="0" alt=""></center>
<map name="ArLMS2xx_map">
<area href="classArLaser.html" alt="ArLaser" shape="rect" coords="0,112,156,136">
<area href="classArRangeDeviceThreaded.html" alt="ArRangeDeviceThreaded" shape="rect" coords="0,56,156,80">
<area href="classArRangeDevice.html" alt="ArRangeDevice" shape="rect" coords="0,0,156,24">
</map>
<a href="classArLMS2xx-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Interface to a SICK LMS-200 laser range device. 
<p>
This class processes incoming data from a SICK LMS-200 laser rangefinding device in a background thread, and provides it through the standard <a class="el" href="classArRangeDevice.html">ArRangeDevice</a> API, to be used via <a class="el" href="classArRobot.html">ArRobot</a> (see <a class="el" href="classArRobot.html#a8">ArRobot::addRangeDevice()</a>), used by an <a class="el" href="classArAction.html">ArAction</a>, or used directly.<p>
An ArSick instance must be connected to the laser through a serial port (or simulator): the typical procedure is to allow your <a class="el" href="classArSimpleConnector.html">ArSimpleConnector</a> to configure the laser based on the robot connection type and command line parameters; then initiate the ArSick background thread; and finally connect ArSick to the laser device. For example: <div class="fragment"><pre class="fragment">  <a class="code" href="classArRobot.html">ArRobot</a> robot;
  ArSick laser;
  <a class="code" href="classArSimpleConnector.html">ArSimpleConnector</a> connector(...);
  ...
   Setup the simple connector and connect to the robot --
   see the example programs.
  ...
  connector.setupLaser(&amp;laser);
  laser.runAsync();
  <span class="keywordflow">if</span>(!laser.blockingConnect())
  {
    <span class="comment">// Error...</span>
    ...
  }
  ...
</pre></div><p>
The most important methods in this class are the constructor, <a class="el" href="classArRangeDeviceThreaded.html#a5">runAsync()</a>, <a class="el" href="classArLMS2xx.html#a2">blockingConnect()</a>, <a class="el" href="classArLaser.html#a65">getSensorPosition()</a>, <a class="el" href="classArLMS2xx.html#a4">isConnected()</a>, <a class="el" href="classArLaser.html#a0">addConnectCB()</a>, <a class="el" href="classArLMS2xx.html#a1">asyncConnect()</a>, configure(), in addition to the <a class="el" href="classArRangeDevice.html">ArRangeDevice</a> interface.<p>
<dl compact><dt><b>Note:</b></dt><dd>The "extra int" on the raw readings returned by <a class="el" href="classArRangeDevice.html#a33">ArRangeDevice::getRawReadings()</a> is like other laser devices and is the reflectance value, if enabled, ranging between 0 and 255. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="ArLMS2xx::ArLMS2xx"></a>
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a0">ArLMS2xx</a> (int laserNumber, const char *name="lms2xx", bool appendLaserNumberToName=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a1">asyncConnect</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connect to the laser asyncronously.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a2">blockingConnect</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connect to the laser while blocking.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a3">disconnect</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnect from the laser.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="ArLMS2xx::isConnected"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a4">isConnected</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sees if this is connected to the laser. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="ArLMS2xx::isTryingToConnect"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>isTryingToConnect</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a6">runThread</a> (void *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7" doxytag="ArLMS2xx::setDeviceConnection"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a7">setDeviceConnection</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *conn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device connection. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a8" doxytag="ArLMS2xx::setRobot"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setRobot</b> (<a class="el" href="classArRobot.html">ArRobot</a> *robot)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9" doxytag="ArLMS2xx::~ArLMS2xx"></a>
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#a9">~ArLMS2xx</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#x0">State</a> { <br>
&nbsp;&nbsp;<a class="el" href="classArLMS2xx.html#x0x6">STATE_NONE</a>, 
<a class="el" href="classArLMS2xx.html#x0x4">STATE_INIT</a>, 
<a class="el" href="classArLMS2xx.html#x0x11">STATE_WAIT_FOR_POWER_ON</a>, 
<a class="el" href="classArLMS2xx.html#x0x1">STATE_CHANGE_BAUD</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classArLMS2xx.html#x0x2">STATE_CONFIGURE</a>, 
<a class="el" href="classArLMS2xx.html#x0x9">STATE_WAIT_FOR_CONFIGURE_ACK</a>, 
<a class="el" href="classArLMS2xx.html#x0x5">STATE_INSTALL_MODE</a>, 
<a class="el" href="classArLMS2xx.html#x0x10">STATE_WAIT_FOR_INSTALL_MODE_ACK</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classArLMS2xx.html#x0x7">STATE_SET_MODE</a>, 
<a class="el" href="classArLMS2xx.html#x0x12">STATE_WAIT_FOR_SET_MODE_ACK</a>, 
<a class="el" href="classArLMS2xx.html#x0x8">STATE_START_READINGS</a>, 
<a class="el" href="classArLMS2xx.html#x0x13">STATE_WAIT_FOR_START_ACK</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classArLMS2xx.html#x0x3">STATE_CONNECTED</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0" doxytag="ArLMS2xx::dropConnection"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dropConnection</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1" doxytag="ArLMS2xx::failedConnect"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>failedConnect</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b2">finishParams</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b3" doxytag="ArLMS2xx::internalConnectHandler"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b3">internalConnectHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An internal function, single loop event to connect to laser. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b4">internalConnectSim</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b5">internalRunOnRobot</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">internal function to runOnRobot so that ArSick can do that while this class won't  <a href="#b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b6" doxytag="ArLMS2xx::laserCheckParams"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>laserCheckParams</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b7" doxytag="ArLMS2xx::laserSetName"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>laserSetName</b> (const char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b8" doxytag="ArLMS2xx::madeConnection"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>madeConnection</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b9" doxytag="ArLMS2xx::processPacket"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>processPacket</b> (<a class="el" href="classArLMS2xxPacket.html">ArLMS2xxPacket</a> *packet, <a class="el" href="classArPose.html">ArPose</a> pose, <a class="el" href="classArPose.html">ArPose</a> encoderPose, unsigned int counter, bool deinterlace, <a class="el" href="classArPose.html">ArPose</a> deinterlaceDelta)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b10" doxytag="ArLMS2xx::runOnce"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>runOnce</b> (bool lockRobot)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b11">sensorInterpCallback</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b12" doxytag="ArLMS2xx::sickGetIsUsingSim"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b12">sickGetIsUsingSim</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function that gets whether the laser is simulated or not (just for the old ArSick). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b13" doxytag="ArLMS2xx::sickSetIsUsingSim"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b13">sickSetIsUsingSim</a> (bool usingSim)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function that sets whether the laser is simulated or not (just for the old ArSick). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b14" doxytag="ArLMS2xx::simPacketHandler"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>simPacketHandler</b> (<a class="el" href="classArRobotPacket.html">ArRobotPacket</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b15" doxytag="ArLMS2xx::switchState"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLMS2xx.html#b15">switchState</a> (<a class="el" href="classArLMS2xx.html#x0">State</a> state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function for switching states. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArLMS2xx::myAriaExitCB"></a>
<a class="el" href="classArRetFunctorC.html">ArRetFunctorC</a>&lt; bool, <a class="el" href="classArLMS2xx.html">ArLMS2xx</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAriaExitCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArLMS2xx::myAssembleReadings"></a>
std::list&lt; <a class="el" href="classArSensorReading.html">ArSensorReading</a> * &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAssembleReadings</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="ArLMS2xx::myCurrentReadings"></a>
std::list&lt; <a class="el" href="classArSensorReading.html">ArSensorReading</a> * &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myCurrentReadings</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="ArLMS2xx::myIncrementAmount"></a>
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>myIncrementAmount</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="ArLMS2xx::myInterlaced"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myInterlaced</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="ArLMS2xx::myInterpolation"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myInterpolation</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6" doxytag="ArLMS2xx::myIter"></a>
std::list&lt; <a class="el" href="classArSensorReading.html">ArSensorReading</a> <br>
* &gt;::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>myIter</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7" doxytag="ArLMS2xx::myLMS2xxPacketReceiver"></a>
<a class="el" href="classArLMS2xxPacketReceiver.html">ArLMS2xxPacketReceiver</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLMS2xxPacketReceiver</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p8" doxytag="ArLMS2xx::myNumReflectorBits"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>myNumReflectorBits</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p9" doxytag="ArLMS2xx::myOffsetAmount"></a>
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>myOffsetAmount</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p10" doxytag="ArLMS2xx::myPacket"></a>
<a class="el" href="classArLMS2xxPacket.html">ArLMS2xxPacket</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPacket</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p11" doxytag="ArLMS2xx::myPackets"></a>
std::list&lt; <a class="el" href="classArLMS2xxPacket.html">ArLMS2xxPacket</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPackets</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p12" doxytag="ArLMS2xx::myProcessImmediately"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myProcessImmediately</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p13" doxytag="ArLMS2xx::myRobotConnectCB"></a>
<a class="el" href="classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArLMS2xx.html">ArLMS2xx</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobotConnectCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p14" doxytag="ArLMS2xx::myRunInOwnThread"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRunInOwnThread</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p15" doxytag="ArLMS2xx::myRunningOnRobot"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRunningOnRobot</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p16" doxytag="ArLMS2xx::mySensorInterpCB"></a>
<a class="el" href="classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArLMS2xx.html">ArLMS2xx</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySensorInterpCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p17" doxytag="ArLMS2xx::mySimPacketCounter"></a>
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySimPacketCounter</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p18" doxytag="ArLMS2xx::mySimPacketEncoderTrans"></a>
<a class="el" href="classArTransform.html">ArTransform</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySimPacketEncoderTrans</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p19" doxytag="ArLMS2xx::mySimPacketHandler"></a>
<a class="el" href="classArRetFunctor1C.html">ArRetFunctor1C</a>&lt; bool, <a class="el" href="classArLMS2xx.html">ArLMS2xx</a>,<br>
 <a class="el" href="classArRobotPacket.html">ArRobotPacket</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySimPacketHandler</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p20" doxytag="ArLMS2xx::mySimPacketStart"></a>
<a class="el" href="classArPose.html">ArPose</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySimPacketStart</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p21" doxytag="ArLMS2xx::mySimPacketTrans"></a>
<a class="el" href="classArTransform.html">ArTransform</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySimPacketTrans</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p22" doxytag="ArLMS2xx::myStartConnect"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStartConnect</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p23" doxytag="ArLMS2xx::myState"></a>
<a class="el" href="classArLMS2xx.html#x0">State</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myState</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p24" doxytag="ArLMS2xx::myStateMutex"></a>
<a class="el" href="classArMutex.html">ArMutex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStateMutex</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p25" doxytag="ArLMS2xx::myStateStart"></a>
<a class="el" href="classArTime.html">ArTime</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStateStart</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p26" doxytag="ArLMS2xx::myTotalNumReadings"></a>
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>myTotalNumReadings</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p27" doxytag="ArLMS2xx::myUseSim"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myUseSim</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p28" doxytag="ArLMS2xx::myWhichReading"></a>
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>myWhichReading</b></td></tr>

</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="x0" doxytag="ArLMS2xx::State"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classArLMS2xx.html#x0">ArLMS2xx::State</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="x0x6" doxytag="STATE_NONE"></a>STATE_NONE</em>&nbsp;</td><td>
Nothing, haven't tried to connect or anything. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x4" doxytag="STATE_INIT"></a>STATE_INIT</em>&nbsp;</td><td>
Initializing the laser. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x11" doxytag="STATE_WAIT_FOR_POWER_ON"></a>STATE_WAIT_FOR_POWER_ON</em>&nbsp;</td><td>
Waiting for power on. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x1" doxytag="STATE_CHANGE_BAUD"></a>STATE_CHANGE_BAUD</em>&nbsp;</td><td>
Change the baud, no confirm here. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x2" doxytag="STATE_CONFIGURE"></a>STATE_CONFIGURE</em>&nbsp;</td><td>
Send the width and increment to the laser. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x9" doxytag="STATE_WAIT_FOR_CONFIGURE_ACK"></a>STATE_WAIT_FOR_CONFIGURE_ACK</em>&nbsp;</td><td>
Wait for the configuration Ack. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x5" doxytag="STATE_INSTALL_MODE"></a>STATE_INSTALL_MODE</em>&nbsp;</td><td>
Switch to install mode. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x10" doxytag="STATE_WAIT_FOR_INSTALL_MODE_ACK"></a>STATE_WAIT_FOR_INSTALL_MODE_ACK</em>&nbsp;</td><td>
Wait until its switched to install mode. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x7" doxytag="STATE_SET_MODE"></a>STATE_SET_MODE</em>&nbsp;</td><td>
Set the mode (mm/cm) and extra field bits. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x12" doxytag="STATE_WAIT_FOR_SET_MODE_ACK"></a>STATE_WAIT_FOR_SET_MODE_ACK</em>&nbsp;</td><td>
Waiting for set-mode ack. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x8" doxytag="STATE_START_READINGS"></a>STATE_START_READINGS</em>&nbsp;</td><td>
Switch to monitoring mode. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x13" doxytag="STATE_WAIT_FOR_START_ACK"></a>STATE_WAIT_FOR_START_ACK</em>&nbsp;</td><td>
Waiting for the switch-mode ack. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="x0x3" doxytag="STATE_CONNECTED"></a>STATE_CONNECTED</em>&nbsp;</td><td>
We're connected and getting readings. </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a1" doxytag="ArLMS2xx::asyncConnect"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::asyncConnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connect to the laser asyncronously. 
<p>
This does not lock the laser, but you should lock the laser before you try to connect. Also note that if you are connecting to the simulator the laser MUST be unlocked so that this can lock the laser and send the commands to the sim. To be connected successfully, either the useSim must be set from configure (and the laser must be connected to a simulator, or this will return true but connection will fail), the device must have been <a class="el" href="classArRangeDeviceThreaded.html#a4">run()</a> or <a class="el" href="classArRangeDeviceThreaded.html#a5">runAsync()</a>, or runOnRobot() used.<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if a connection will be able to be tried, false otherwise</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>configure(), <a class="el" href="classArRangeDeviceThreaded.html#a4">ArRangeDeviceThreaded::run()</a>, <a class="el" href="classArRangeDeviceThreaded.html#a5">ArRangeDeviceThreaded::runAsync()</a>, runOnRobot() </dd></dl>

<p>
Implements <a class="el" href="classArLaser.html#a9">ArLaser</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ArLMS2xx::blockingConnect"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::blockingConnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Connect to the laser while blocking. 
<p>
Locks this class (using lockDevice()), tries to make a connection, then unlocks. If connecting to the simulator, then it will commands to the simulator instead of connecting over the configured serial port.<p>
<dl compact><dt><b>Note:</b></dt><dd>If you have previously locked the laser with lockDevice(), then you must unlock with unlockDevice() before calling this function.<p>
Since the simulated laser uses the robot connection instead of a separate, new connection, this ArLMS2xx object <b>must</b> have been added to the robot using <a class="el" href="classArRobot.html#a8">ArRobot::addRangeDevice()</a>, and the robot connection <b>must</b> be connected and running (e.g. in a background thread via <a class="el" href="classArRobot.html#a255">ArRobot::runAsync()</a>) for <a class="el" href="classArLMS2xx.html#a2">blockingConnect()</a> to be able to successfully connect to the simulator.</dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if a connection was successfully made, false otherwise </dd></dl>

<p>
Implements <a class="el" href="classArLaser.html#a10">ArLaser</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ArLMS2xx::disconnect"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::disconnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disconnect from the laser. 
<p>
Disconnects from the laser. You should lockDevice the laser before calling this function. Also if you are using the simulator it will lock the robot so it can send the command to the simulator, so you should make sure the robot is unlocked.<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if it could disconnect from the laser cleanly</dd></dl>

<p>
Implements <a class="el" href="classArLaser.html#a27">ArLaser</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b2" doxytag="ArLMS2xx::finishParams"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::finishParams           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finishes getting the unset parameters from the robot then setting some internal variables that need it     </td>
  </tr>
</table>
<a class="anchor" name="b4" doxytag="ArLMS2xx::internalConnectSim"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::internalConnectSim           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends the commands to the sim to start up the connection<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the commands were sent, false otherwise</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="b5" doxytag="ArLMS2xx::internalRunOnRobot"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArLMS2xx::internalRunOnRobot           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
internal function to runOnRobot so that ArSick can do that while this class won't 
<p>
This alternate method of operation sets up a sensor interpretation task on the robot object, instead of in a background thread. Note that the device must have been added to the robot already so that the device has a pointer to the robot. You should lock the robot and lockDevice() this laser before calling this if other things are running already.     </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ArLMS2xx::runThread"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void * ArLMS2xx::runThread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>arg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The internal function used by the <a class="el" href="classArRangeDeviceThreaded.html">ArRangeDeviceThreaded</a> 
<p>
Implements <a class="el" href="classArRangeDeviceThreaded.html#a6">ArRangeDeviceThreaded</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b11" doxytag="ArLMS2xx::sensorInterpCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ArLMS2xx::sensorInterpCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MPL changing this since it seems -1 is left out of everything     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArLMS2xx.h<li>ArLMS2xx.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:42 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
