<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArPTZ Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArPTZ Class Reference</h1><code>#include &lt;ArPTZ.h&gt;</code>
<p>
<p>Inheritance diagram for ArPTZ:
<p><center><img src="classArPTZ.png" usemap="#ArPTZ_map" border="0" alt=""></center>
<map name="ArPTZ_map">
<area href="classArAMPTU.html" alt="ArAMPTU" shape="rect" coords="0,56,93,80">
<area href="classArDPPTU.html" alt="ArDPPTU" shape="rect" coords="103,56,196,80">
<area href="classArRVisionPTZ.html" alt="ArRVisionPTZ" shape="rect" coords="206,56,299,80">
<area href="classArSonyPTZ.html" alt="ArSonyPTZ" shape="rect" coords="309,56,402,80">
<area href="classArVCC4.html" alt="ArVCC4" shape="rect" coords="412,56,505,80">
</map>
<a href="classArPTZ-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class which handles the PTZ cameras. 
<p>
This class is mainly concerned with making all the cameras look the same for outgoing data, it is also set up to facilitate the acquisition of incoming data but that is described in the following paragraphs. There are two ways this can be used. The first is the simplest and default behavior and should be used by those whose cameras are attached to their robot's microcontroller, a <a class="el" href="classArRobot.html">ArRobot</a> pointer is passed in to the contructor, this is where the commands will be sent to the robot via the robot's connection which will then send it along over the second serial port. The second way is to pass an <a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> to setDeviceConnection, if this is done commands will be sent along the given serial port, this should ONLY be done if the camera is attached straight to a serial port on the computer this program is running on.<p>
The next two paragraphs describe how to get data back from the cameras, but this base class is set up so that by default it won't try to get data back and assumes you're not trying to do that. If you are trying to get data back the important functions are packetHandler, robotPacketHandler and readPacket and you should read the docs on those.<p>
If the camera is attached to the robot (and you are thus using the first method described in the first paragraph) then the only way to get data back is to send an <a class="el" href="classArCommands.html#w6w16">ArCommands::GETAUX</a>, then set up a robotPacketHandler for the AUX id and have it call the packetHandler you set up in in the class.<p>
If the camera is attached to the serial port on the computer (and thus the second method described in the first paragraph was used) then its more complicated... the default way is to just pass in an <a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> to setDeviceConnection and implement the readPacket method (which MUST not block), and every time through the robot loop readPacket (with the sensorInterpHandler) will be called and any packets will be given to the packetHandler (which you need to implement in your class) to be processed. The other way to do this method is to pass both an ArDefaultConnection and false to setDeviceConnection, this means the camera will not be read at all by default, and you're on your own for reading the data in (ie like your own thread). 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a0">ArPTZ</a> (<a class="el" href="classArRobot.html">ArRobot</a> *robot)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1" doxytag="ArPTZ::canGetFOV"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a1">canGetFOV</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether we can get the FOV (field of view) or not. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="ArPTZ::canGetRealPanTilt"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a2">canGetRealPanTilt</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether <a class="el" href="classArPTZ.html#a20">getPan()</a> hand <a class="el" href="classArPTZ.html#a21">getTilt()</a> return the device's real position, or last commanded position. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3" doxytag="ArPTZ::canGetRealZoom"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a3">canGetRealZoom</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether <a class="el" href="classArPTZ.html#a22">getZoom()</a> returns the device's real zoom amount, or last commanded zoom position. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="ArPTZ::canSetFocus"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a4">canSetFocus</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If the driver can set the focus on the camera, or not. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="ArPTZ::canSetGain"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a5">canSetGain</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If the driver can set gain on the camera, or not. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6" doxytag="ArPTZ::canZoom"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a6">canZoom</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if camera can zoom and this class can control the zoom amount. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7" doxytag="ArPTZ::connectHandler"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a7">connectHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal, attached to robot, inits the camera when robot connects. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a8" doxytag="ArPTZ::getAuxPort"></a>
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a8">getAuxPort</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the port the device is set to communicate on. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a9" doxytag="ArPTZ::getDeviceConnection"></a>
virtual <a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a9">getDeviceConnection</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the device connection used by this PTZ camera. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a10" doxytag="ArPTZ::getFocus"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a10">getFocus</a> (double focus) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the focus the camera is set to. 0 if not supported. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a11" doxytag="ArPTZ::getFOVAtMaxZoom"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a11">getFOVAtMaxZoom</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the field of view at maximum zoom. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a12" doxytag="ArPTZ::getFOVAtMinZoom"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a12">getFOVAtMinZoom</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the field of view at minimum zoom. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a13" doxytag="ArPTZ::getGain"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a13">getGain</a> (double gain) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the gain the camera is set to. 0 if not supported. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a14" doxytag="ArPTZ::getMaxNegPan"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a14">getMaxNegPan</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the lowest negative degree the camera can pan to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a15" doxytag="ArPTZ::getMaxNegTilt"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a15">getMaxNegTilt</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the lowest negative degree the camera can tilt to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a16" doxytag="ArPTZ::getMaxPosPan"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a16">getMaxPosPan</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the highest positive degree the camera can pan to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a17" doxytag="ArPTZ::getMaxPosTilt"></a>
virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a17">getMaxPosTilt</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the highest positive degree the camera can tilt to. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a18" doxytag="ArPTZ::getMaxZoom"></a>
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a18">getMaxZoom</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the maximum value for the zoom on this camera. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a19" doxytag="ArPTZ::getMinZoom"></a>
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a19">getMinZoom</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the lowest value for the zoom on this camera. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a20">getPan</a> (void) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a21">getTilt</a> (void) const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a22">getZoom</a> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a23" doxytag="ArPTZ::init"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a23">init</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the camera. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a24">packetHandler</a> (<a class="el" href="classArBasePacket.html">ArBasePacket</a> *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles a packet that was read from the device.  <a href="#a24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a25" doxytag="ArPTZ::pan"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a25">pan</a> (double degrees)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pans to the given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a26" doxytag="ArPTZ::panRel"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a26">panRel</a> (double degrees)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pans relative to current position by given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a27" doxytag="ArPTZ::panTilt"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a27">panTilt</a> (double degreesPan, double degreesTilt)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pans and tilts to the given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a28" doxytag="ArPTZ::panTiltRel"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a28">panTiltRel</a> (double degreesPan, double degreesTilt)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pans and tilts relatives to the current position by the given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classArBasePacket.html">ArBasePacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a29">readPacket</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads a packet from the device connection, MUST NOT BLOCK.  <a href="#a29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a30">reset</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the camera.  <a href="#a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a31">robotPacketHandler</a> (<a class="el" href="classArRobotPacket.html">ArRobotPacket</a> *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles a packet that was read by the robot.  <a href="#a31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a32">sendPacket</a> (<a class="el" href="classArBasePacket.html">ArBasePacket</a> *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a given packet to the camera (via robot or serial port, depending).  <a href="#a32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a33" doxytag="ArPTZ::sensorInterpHandler"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a33">sensorInterpHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal, for attaching to the robots sensor interp to read serial port. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a34">setAuxPort</a> (int auxPort)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the aux port on the robot to be used to communicate with this device.  <a href="#a34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a35">setDeviceConnection</a> (<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *connection, bool driveFromRobotLoop=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a36">setFocus</a> (double focus) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a37">setGain</a> (double gain) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a38" doxytag="ArPTZ::tilt"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a38">tilt</a> (double degrees)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tilts to the given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a39" doxytag="ArPTZ::tiltRel"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a39">tiltRel</a> (double degrees)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tilts relative to the current position by given degrees. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a40" doxytag="ArPTZ::zoom"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a40">zoom</a> (int zoomValue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zooms to the given value. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a41" doxytag="ArPTZ::zoomRel"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a41">zoomRel</a> (int zoomValue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zooms relative to the current value, by the given value. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a42" doxytag="ArPTZ::~ArPTZ"></a>
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArPTZ.html#a42">~ArPTZ</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArPTZ::myAuxPort"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAuxPort</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArPTZ::myAuxRxCmd"></a>
<a class="el" href="classArCommands.html#w6">ArCommands::Commands</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAuxRxCmd</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="ArPTZ::myAuxTxCmd"></a>
<a class="el" href="classArCommands.html#w6">ArCommands::Commands</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>myAuxTxCmd</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="ArPTZ::myConn"></a>
<a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myConn</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="ArPTZ::myConnectCB"></a>
<a class="el" href="classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArPTZ.html">ArPTZ</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myConnectCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="ArPTZ::myRobot"></a>
<a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobot</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6" doxytag="ArPTZ::myRobotPacketHandlerCB"></a>
<a class="el" href="classArRetFunctor1C.html">ArRetFunctor1C</a>&lt; bool, <a class="el" href="classArPTZ.html">ArPTZ</a>,<br>
 <a class="el" href="classArRobotPacket.html">ArRobotPacket</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobotPacketHandlerCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7" doxytag="ArPTZ::mySensorInterpCB"></a>
<a class="el" href="classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArPTZ.html">ArPTZ</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>mySensorInterpCB</b></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="ArPTZ::ArPTZ"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArPTZ::ArPTZ           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>robot</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>robot</em>&nbsp;</td><td>The robot this camera is attached to, can be NULL </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a20" doxytag="ArPTZ::getPan"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual double ArPTZ::getPan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The angle the camera is panned to (or last commanded value sent, if unable to obtain real pan position) <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArPTZ.html#a2">canGetRealPanTilt()</a> </dd></dl>

<p>
Implemented in <a class="el" href="classArAMPTU.html#a6">ArAMPTU</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="ArPTZ::getTilt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual double ArPTZ::getTilt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The angle the camera is tilted to (or last commanded value sent, if unable to obtain real pan position) <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArPTZ.html#a2">canGetRealPanTilt()</a> </dd></dl>

<p>
Implemented in <a class="el" href="classArAMPTU.html#a7">ArAMPTU</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="ArPTZ::getZoom"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int ArPTZ::getZoom           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The amount the camera is zoomed to (or last commanded value sent, if unable to obtain real pan position) <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArPTZ.html#a6">canZoom()</a>; <p>
canGetZoom() </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="ArPTZ::packetHandler"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool ArPTZ::packetHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArBasePacket.html">ArBasePacket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>packet</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles a packet that was read from the device. 
<p>
This should work for the robot packet handler or for packets read in from readPacket (the joys of OO), but it can't deal with the need to check the id on robot packets, so you should check the id from robotPacketHandler and then call this one so that your stuff can be used by both robot and serial port connections. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet to handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if this packet was handled (ie this knows what it is), false otherwise </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="ArPTZ::readPacket"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classArBasePacket.html">ArBasePacket</a>* ArPTZ::readPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads a packet from the device connection, MUST NOT BLOCK. 
<p>
This should read in a packet from the myConn connection and return a pointer to a packet if there was on to read in, or NULL if there wasn't one... this MUST not block if it is used with the default mode of being driven from the sensorInterpHandler, since that is on the robot loop. <dl compact><dt><b>Returns:</b></dt><dd>packet read in, or NULL if there was no packet read </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="ArPTZ::reset"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void ArPTZ::reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resets the camera. 
<p>
This function will reset the camera to 0 0 pan tilt, and 0 zoom, on some cameras that can get out of sync it may need to do more, such as call init on it again.     </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="ArPTZ::robotPacketHandler"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArPTZ::robotPacketHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArRobotPacket.html">ArRobotPacket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>packet</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles a packet that was read by the robot. 
<p>
This handles packets read in from the robot, this function should just check the ID of the robot packet and then return what packetHandler thinks of the packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet to handle </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the packet was handled (ie this konws what it is), false otherwise </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="ArPTZ::sendPacket"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArPTZ::sendPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArBasePacket.html">ArBasePacket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>packet</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a given packet to the camera (via robot or serial port, depending). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet to send </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the packet could be sent, false otherwise </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="ArPTZ::setAuxPort"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArPTZ::setAuxPort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>auxPort</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the aux port on the robot to be used to communicate with this device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>auxPort</em>&nbsp;</td><td>The AUX port on the robot's microcontroller that the device is connected to. The C166 controller only has one port. The H8 has two.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the port was valid (1 or 2). False otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="ArPTZ::setDeviceConnection"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArPTZ::setDeviceConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArDeviceConnection.html">ArDeviceConnection</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>connection</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>driveFromRobotLoop</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the device connection to be used by this PTZ camera, if set this camera will send commands via this connection, otherwise its via robot     </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="ArPTZ::setFocus"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool ArPTZ::setFocus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>focus</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set focus on camera, range of 1-100. Returns false if out of range or if you can't set the focus on the camera     </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="ArPTZ::setGain"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool ArPTZ::setGain           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>gain</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set gain on camera, range of 1-100. Returns false if out of range or if you can't set the gain on the camera     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArPTZ.h<li>ArPTZ.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:43 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
