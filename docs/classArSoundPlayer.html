<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArSoundPlayer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArSoundPlayer Class Reference</h1><code>#include &lt;ArSoundPlayer.h&gt;</code>
<p>
<a href="classArSoundPlayer-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
This class provides a cross-platform interface for playing short sound samples. (Currently implemented for Windows and Linux). 
<p>
<dl compact><dt><b>See also:</b></dt><dd>For I/O and network transfer of encoded audio, see the ArNetAudio library. <p>
<a class="el" href="classArSoundsQueue.html">ArSoundsQueue</a></dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Uses an external program to play WAV files on Linux. If an environment variable named PLAY_WAV is set, that program is used, otherwise, 'play' from the 'sox' toolset is used. PLAY_WAV must contain one word (the command; no arguments) A call to <a class="el" href="classArSoundPlayer.html#e4">playWavFile()</a> will return immediately after 'play' has finished, even though Linux may still be playing back the sound data. In general, this kind of thing is a problem, especially with speech recognition immediately after playing a sound. Ideally, we should be able to truly block until the sound has finished playback. Alas, it is not an ideal world. Another potential pitfall due to the use of an external program invocation: the program you call must not attempt to issue any output. 'play' from the 'sox' toolset automatically supresses normal output if it isn't called from an interactive terminal, but it may still issue some error messages, which will cause it to hang indefinately. </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classArRetFunctor2.html">ArRetFunctor2</a>&lt; bool,<br>
 const char *, const char * &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e0">getPlayWavFileCallback</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classArFunctor.html">ArFunctor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e1">getStopPlayingCallback</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e2">playNativeFile</a> (const char *filename, const char *params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e3">playSoundPCM16</a> (char *data, int numSamples)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e4">playWavFile</a> (const char *filename, const char *params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#e5">stopPlaying</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t0" doxytag="ArSoundPlayer::myPlayChildPID"></a>
static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSoundPlayer.html#t0">myPlayChildPID</a> = -1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Only used on Linux. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t1" doxytag="ArSoundPlayer::ourPlayWavFileCB"></a>
static <a class="el" href="classArGlobalRetFunctor2.html">ArGlobalRetFunctor2</a>&lt;<br>
 bool, const char *, const <br>
char * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourPlayWavFileCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t2" doxytag="ArSoundPlayer::ourStopPlayingCB"></a>
static <a class="el" href="classArGlobalFunctor.html">ArGlobalFunctor</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourStopPlayingCB</b></td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="ArSoundPlayer::getPlayWavFileCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classArRetFunctor2.html">ArRetFunctor2</a>&lt; bool, const char *, const char * &gt; * ArSoundPlayer::getPlayWavFileCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the static functor for playWavFile <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="soundsQueueExample_8cpp-example.html#a606">soundsQueueExample.cpp</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="ArSoundPlayer::getStopPlayingCallback"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classArFunctor.html">ArFunctor</a> * ArSoundPlayer::getStopPlayingCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the static functor for <a class="el" href="classArSoundPlayer.html#e5">stopPlaying()</a>. <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="soundsQueueExample_8cpp-example.html#a608">soundsQueueExample.cpp</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="e2" doxytag="ArSoundPlayer::playNativeFile"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArSoundPlayer::playNativeFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>params</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Play a file in some native file format for the compilation platform.     </td>
  </tr>
</table>
<a class="anchor" name="e3" doxytag="ArSoundPlayer::playSoundPCM16"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArSoundPlayer::playSoundPCM16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>numSamples</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Play raw uncompressed PCM16 sound data. The format of this data is numSamples samples of two bytes each. Each byte pair is a signed little endian integer. The sound will be played back at 16kHz, monaurally. <dl compact><dt><b>Returns:</b></dt><dd>false on error, true on success. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e4" doxytag="ArSoundPlayer::playWavFile"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArSoundPlayer::playWavFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>params</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Play a WAV (Windows RIFF) file <dl compact><dt><b>Note:</b></dt><dd>Uses an external program to play WAV files on Linux. If an environment variable named PLAY_WAV is set, that program is used, otherwise, 'play' from the 'sox' toolset is used. See detailed note in the overview for this cass. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Name of the file to play </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>ignored </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e5" doxytag="ArSoundPlayer::stopPlaying"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ArSoundPlayer::stopPlaying           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cancel (interrupt) any current sound or file playback.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArSoundPlayer.h<li>ArSoundPlayer.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:44 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
