<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Aria: ArRatioInputJoydrive Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>ArRatioInputJoydrive Class Reference</h1><code>#include &lt;ArRatioInputJoydrive.h&gt;</code>
<p>
<a href="classArRatioInputJoydrive-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Use computer joystick to control an <a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> and drive the robot. 
<p>
This class obtains data from a joystick attached to the computer and provides it to an <a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> which drives the robot. (See <a class="el" href="classArRatioInputRobotJoydrive.html">ArRatioInputRobotJoydrive</a> for a similar class that uses the robot's built in joystick interface.) A callback is attached to the <a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> object which reads joystick information and sets requested drive rations on the <a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a><p>
If the joystick button is pressed, then input values are set in the ArActionRatioDrive action object to request motion. If the button is not pressed, then either the robot will be stopped via the action (if <em>stopIfNoButtonPressed</em> is true), or no action will be requested and lower priority actions can take over (if <em>stopIfNoButtonPressed</em> is false)<p>
You may need to calibrate the joystick for it to work right, for details about this see <a class="el" href="classArJoyHandler.html">ArJoyHandler</a>.<p>
This class creates its own <a class="el" href="classArJoyHandler.html">ArJoyHandler</a> object to get input from the joystick, or uses the global <a class="el" href="classArJoyHandler.html">ArJoyHandler</a> object in the global <a class="el" href="classAria.html">Aria</a> class if present. Then it will scale the speed between 0 and the given max for velocity and turning, up and down on the joystick go forwards/backwards while right and left go right and left.<p>
NOTE: The joystick does not save calibration information, so you may need to calibrate the joystick before each time you use it. To do this, press the button for at least a half a second while the joystick is in the middle. Then let go of the button and hold the joystick in the upper left for at least a half second and then in the lower right corner for at least a half second. See also <a class="el" href="classArJoyHandler.html">ArJoyHandler</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArRatioInputRobotJoydrive.html">ArRatioInputRobotJoydrive</a> <p>
<a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> <p>
<a class="el" href="classArJoyHandler.html">ArJoyHandler</a> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a0">ArRatioInputJoydrive</a> (<a class="el" href="classArRobot.html">ArRobot</a> *robot, <a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> *input, int priority=50, bool stopIfNoButtonPressed=false, bool useOSCalForJoystick=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1" doxytag="ArRatioInputJoydrive::getJoyHandler"></a>
<a class="el" href="classArJoyHandler.html">ArJoyHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a1">getJoyHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the joyHandler. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="ArRatioInputJoydrive::getStopIfNoButtonPressed"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a2">getStopIfNoButtonPressed</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get if we'll stop if no button is pressed, otherwise just do nothing. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a3">getUseOSCal</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets whether OSCalibration is being used for the joystick or not.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a4" doxytag="ArRatioInputJoydrive::joystickInited"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a4">joystickInited</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether the joystick is initalized or not. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="ArRatioInputJoydrive::setStopIfNoButtonPressed"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a5">setStopIfNoButtonPressed</a> (bool stopIfNoButtonPressed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set if we'll stop if no button is pressed, otherwise just do nothing. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a6">setUseOSCal</a> (bool useOSCal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets whether to use OSCalibration the joystick or not.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7" doxytag="ArRatioInputJoydrive::~ArRatioInputJoydrive"></a>
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArRatioInputJoydrive.html#a7">~ArRatioInputJoydrive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0" doxytag="ArRatioInputJoydrive::fireCallback"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>fireCallback</b> (void)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="ArRatioInputJoydrive::myFireCB"></a>
<a class="el" href="classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArRatioInputJoydrive.html">ArRatioInputJoydrive</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFireCB</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="ArRatioInputJoydrive::myFiredLast"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFiredLast</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="ArRatioInputJoydrive::myInput"></a>
<a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myInput</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="ArRatioInputJoydrive::myJoyHandler"></a>
<a class="el" href="classArJoyHandler.html">ArJoyHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myJoyHandler</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="ArRatioInputJoydrive::myPreviousUseOSCal"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPreviousUseOSCal</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="ArRatioInputJoydrive::myPrinting"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myPrinting</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p6" doxytag="ArRatioInputJoydrive::myRobot"></a>
<a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myRobot</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p7" doxytag="ArRatioInputJoydrive::myStopIfNoButtonPressed"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStopIfNoButtonPressed</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p8" doxytag="ArRatioInputJoydrive::myUseOSCal"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myUseOSCal</b></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="ArRatioInputJoydrive::ArRatioInputJoydrive"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ArRatioInputJoydrive::ArRatioInputJoydrive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classArRobot.html">ArRobot</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>robot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classArActionRatioInput.html">ArActionRatioInput</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>priority</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>stopIfNoButtonPressed</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>useOSCalForJoystick</em> = <code>true</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>robot</em>&nbsp;</td><td>robot </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>input</em>&nbsp;</td><td>Action to attach to and use to drive the robot. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Priority of this joystick input handler with respect to other input objects attached to the <em>input</em> action object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stopIfNoButtonPressed</em>&nbsp;</td><td>if this is true and there is a joystick and no button is pressed, we cause the action to stop the robot. .. otherwise it'll do nothing (letting lower priority actions fire)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>useOSCalForJoystick</em>&nbsp;</td><td>if this is true we'll use the OS calibration, if false we'll do our own. See also <a class="el" href="classArJoyHandler.html#a17">ArJoyHandler::setUseOSCal()</a> </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a3" doxytag="ArRatioInputJoydrive::getUseOSCal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool ArRatioInputJoydrive::getUseOSCal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets whether OSCalibration is being used for the joystick or not. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArJoyHandler.html#a11">ArJoyHandler::getUseOSCal</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ArRatioInputJoydrive::setUseOSCal"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ArRatioInputJoydrive::setUseOSCal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>useOSCal</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets whether to use OSCalibration the joystick or not. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classArJoyHandler.html#a17">ArJoyHandler::setUseOSCal</a> </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArRatioInputJoydrive.h<li>ArRatioInputJoydrive.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jan 7 10:34:43 2010 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
